\documentclass[12pt]{article}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{fontspec}
\usepackage{xfrac}
\usepackage{array}
\usepackage{siunitx}
\usepackage{gensymb}
\usepackage{enumitem}
\usepackage{dirtytalk}
\title{Matrix multiplication (exercises)}
\author{ZoÃ« Sparks}

\begin{document}

\theoremstyle{definition}

\sisetup{quotient-mode=fraction}
\newtheorem{thm}{Theorem}
\newtheorem*{nthm}{Theorem}
\newtheorem{sthm}{}[thm]
\newtheorem{lemma}{Lemma}[thm]
\newtheorem{cor}{Corollary}[thm]
\newtheorem*{prop}{Property}
\newtheorem*{defn}{Definition}
\newtheorem*{comm}{Comment}
\newtheorem*{exm}{Example}

\maketitle

\begin{enumerate}
  \item
    We have
    \begin{align*}
      A =
      \begin{bmatrix}
        2 & -1 & 1\\
        1 &  2 & 1\\
      \end{bmatrix},\
      B =
      \begin{bmatrix}
         3\\
         1\\
        -1\\
      \end{bmatrix},\
      C =
      \begin{bmatrix}
        1 & -1
      \end{bmatrix}.
    \end{align*}
    We would like to know the value of $ABC$ and $CAB$.
    \begin{align*}
      AB =
      \begin{bmatrix}
        2 & -1 & 1\\
        1 &  2 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
         3\\
         1\\
        -1\\
      \end{bmatrix}
      =
      \begin{bmatrix}
        2(3) - 1(1) - 1(1)\\
        1(3) + 2(1) - 1(1)\\
      \end{bmatrix}
      =
      \begin{bmatrix}
        4\\
        4\\
      \end{bmatrix};
    \end{align*}
    \begin{align*}
      ABC =
      \begin{bmatrix}
        4\\
        4\\
      \end{bmatrix}
      \begin{bmatrix}
        1 & -1
      \end{bmatrix}
      =
      \begin{bmatrix}
        4(1) & 4(-1)\\
        4(1) & 4(-1)
      \end{bmatrix}
      =
      \begin{bmatrix}
        4 & -4\\
        4 & -4\\
      \end{bmatrix}.
    \end{align*}\\
    \begin{align*}
      CA =&
      \begin{bmatrix}
        1 & -1
      \end{bmatrix}
      \begin{bmatrix}
        2 & -1 & 1\\
        1 &  2 & 1\\
      \end{bmatrix}\\
      =&
      \begin{bmatrix}
        1(2) - 1(1) & 1(-1) - 1(2) & 1(1) - 1(1)
      \end{bmatrix}\\
      =&
      \begin{bmatrix}
        1 & -3 & 0
      \end{bmatrix};
    \end{align*}
    \begin{align*}
      CAB =
      \begin{bmatrix}
        1 & -3 & 0
      \end{bmatrix}
      \begin{bmatrix}
         3\\
         1\\
        -1\\
      \end{bmatrix}
      =
      \begin{bmatrix}
        1(3) - 3(1) + 0(-1)
      \end{bmatrix}
      =
      \begin{bmatrix}
        0
      \end{bmatrix}.
    \end{align*}

  \item
    We have
    \begin{align*}
      A =
      \begin{bmatrix}
        1 & -1 & 1\\
        2 &  0 & 1\\
        3 &  0 & 1\\
      \end{bmatrix},\
      B =
      \begin{bmatrix}
        2 & -2\\
        1 &  3\\
        4 &  4\\
      \end{bmatrix}.
    \end{align*}
    We would like to verify that $A(AB) = A^{2}B$.
    \begin{align*}
      AB =&
      \begin{bmatrix}
        1 & -1 & 1\\
        2 &  0 & 1\\
        3 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        2 & -2\\
        1 &  3\\
        4 &  4\\
      \end{bmatrix}\\
      =&
      \begin{bmatrix}
        1(2) - 1(1) + 1(4) & 1(-2) - 1(3) + 1(4)\\
        2(2) + 0(1) + 1(4) & 2(-2) + 0(3) + 1(4)\\
        3(2) + 0(1) + 1(4) & 3(-2) + 0(3) + 1(4)\\
      \end{bmatrix}\\
      =&
      \begin{bmatrix}
        5 & -1\\
        8 & 0\\
        10 & -2\\
      \end{bmatrix};\\
      A(AB) =&
      \begin{bmatrix}
        1 & -1 & 1\\
        2 &  0 & 1\\
        3 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        5 & -1\\
        8 & 0\\
        10 & -2\\
      \end{bmatrix}\\
      =&
      \begin{bmatrix}
        1(5) - 1(8) + 1(10) & 1(-1) - 1(0) + 1(-2)\\
        2(5) + 0(8) + 1(10) & 2(-1) + 0(0) + 1(-2)\\
        3(5) + 0(8) + 1(10) & 3(-1) + 0(0) + 1(-2)\\
      \end{bmatrix}\\
      =&
      \begin{bmatrix}
        7  & -3\\
        20 & -4\\
        25 & -5\\
      \end{bmatrix}.
    \end{align*}
    \begin{align*}
      A^{2} =&
      \begin{bmatrix}
        1 & -1 & 1\\
        2 &  0 & 1\\
        3 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 & -1 & 1\\
        2 &  0 & 1\\
        3 &  0 & 1\\
      \end{bmatrix}\\
      =&
      \begin{bmatrix}
        1(1) - 1(2) + 1(3)
          & 1(-1) - 1(0) + 1(0)
          & 1(1) - 1(1) + 1(1)\\
        2(1) + 0(2) + 1(3)
          & 2(-1) + 0(0) + 1(0)
          & 2(1)  + 0(1) + 1(1)\\
        3(1) + 0(2) + 1(3)
          & 3(-1) + 0(0) + 1(0)
          & 3(1)  + 0(1) + 1(1)\\
      \end{bmatrix}\\
      =&
      \begin{bmatrix}
        2 & -1 & 1\\
        5 & -2 & 3\\
        6 & -3 & 4\\
      \end{bmatrix};\\
      A^{2}B =&
      \begin{bmatrix}
        2 & -1 & 1\\
        5 & -2 & 3\\
        6 & -3 & 4\\
      \end{bmatrix}
      \begin{bmatrix}
        2 & -2\\
        1 &  3\\
        4 &  4\\
      \end{bmatrix}\\
      =&
      \begin{bmatrix}
        2(2) - 1(1) + 1(4) & 2(-2) - 1(3) + 1(4)\\
        5(2) - 2(1) + 3(4) & 5(-2) - 2(3) + 3(4)\\
        6(2) - 3(1) + 4(4) & 6(-2) - 3(3) + 4(4)\\
      \end{bmatrix}\\
      =&
      \begin{bmatrix}
        7  & -3\\
        20 & -4\\
        25 & -5\\
      \end{bmatrix}.
    \end{align*}
    Therefore $A(AB) = A^{2}B$.

  \item
    We would like to find two different $2 \times 2$ matrices $A$
    such that $A^{2} = 0$ but $A \neq 0$.
    \begin{align*}
      \begin{bmatrix}
        1  & 1\\
        -1 & -1\\
      \end{bmatrix}
      \begin{bmatrix}
        1  & 1\\
        -1 & -1\\
      \end{bmatrix}
      =
      \begin{bmatrix}
        1(1) + 1(-1) & 1(1) + 1(-1)\\
        -1(1) - 1(-1) & -1(1) - 1(-1)\\
      \end{bmatrix}
      =
      \begin{bmatrix}
        0 & 0\\
        0 & 0\\
      \end{bmatrix}.
    \end{align*}
    \begin{align*}
      \begin{bmatrix}
        -1  & -1\\
        1 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        -1  & -1\\
        1 & 1\\
      \end{bmatrix}
      =
      \begin{bmatrix}
        -1(-1) - 1(1) & -1(-1) - 1(1)\\
        1(-1) + 1(1) & 1(-1) + 1(1)\\
      \end{bmatrix}
      =
      \begin{bmatrix}
        0 & 0\\
        0 & 0\\
      \end{bmatrix}.
    \end{align*}
    Therefore
    \begin{align*}
      A =
      \begin{bmatrix}
        1  & 1\\
        -1 & -1\\
      \end{bmatrix}
    \end{align*}
    or
    \begin{align*}
      A =
      \begin{bmatrix}
        -1  & -1\\
        1 & 1\\
      \end{bmatrix}
    \end{align*}
    both work.

  \item
    We would like to find elementary matrices $E_1, E_2, \ldots,
    E_k$ for the matrix $A$ in exercise 2 such that
    \begin{align*}
      E_k \cdots E_2E_1A = I.
    \end{align*}
    \begin{align*}
      E_1 =
      \begin{bmatrix}
        1 &  0 & 0\\
        1 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
    \end{align*}
    \begin{align*}
      E_1A =
      \begin{bmatrix}
        1 &  0 & 0\\
        1 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 & -1 & 1\\
        2 &  0 & 1\\
        3 &  0 & 1\\
      \end{bmatrix}
      =
      \begin{bmatrix}
        1 & -1 & 1\\
        3 & -1 & 2\\
        3 &  0 & 1\\
      \end{bmatrix}
    \end{align*}
    \begin{align*}
      E_2 =
      \begin{bmatrix}
        1 & -1 & 0\\
        0 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
    \end{align*}
    \begin{align*}
      E_2E_1A =
      \begin{bmatrix}
        1 & -1 & 0\\
        0 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 & -1 & 1\\
        3 & -1 & 2\\
        3 &  0 & 1\\
      \end{bmatrix}
      =
      \begin{bmatrix}
        -2 &  0 & -1\\
         3 & -1 & 2\\
         3 &  0 & 1\\
      \end{bmatrix}
    \end{align*}
    \begin{align*}
      E_3 =
      \begin{bmatrix}
        1 &  0 & 1\\
        0 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
    \end{align*}
    \begin{align*}
      E_3E_2E_1A =
      \begin{bmatrix}
        1 &  0 & 1\\
        0 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        -2 &  0 & -1\\
         3 & -1 & 2\\
         3 &  0 & 1\\
      \end{bmatrix}
      =
      \begin{bmatrix}
        1 &  0 & 0\\
        3 & -1 & 2\\
        3 &  0 & 1\\
      \end{bmatrix}
    \end{align*}
    \begin{align*}
      E_4 =
      \begin{bmatrix}
         1 &  0 & 0\\
        -3 &  1 & 0\\
         0 &  0 & 1\\
      \end{bmatrix}
    \end{align*}
    \begin{align*}
      E_4E_3E_2E_1A =
      \begin{bmatrix}
         1 &  0 & 0\\
        -3 &  1 & 0\\
         0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 &  0 & 0\\
        3 & -1 & 2\\
        3 &  0 & 1\\
      \end{bmatrix}
      =
      \begin{bmatrix}
        1 &  0 & 0\\
        0 & -1 & 2\\
        3 &  0 & 1\\
      \end{bmatrix}
    \end{align*}
    \begin{align*}
      E_5 =
      \begin{bmatrix}
         1 &  0 & 0\\
         0 &  1 & 0\\
        -3 &  0 & 1\\
      \end{bmatrix}
    \end{align*}
    \begin{align*}
      E_5E_4E_3E_2E_1A =
      \begin{bmatrix}
         1 &  0 & 0\\
         0 &  1 & 0\\
        -3 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 &  0 & 0\\
        3 & -1 & 2\\
        3 &  0 & 1\\
      \end{bmatrix}
      =
      \begin{bmatrix}
        1 &  0 & 0\\
        0 & -1 & 2\\
        0 &  0 & 1\\
      \end{bmatrix}
    \end{align*}
    \begin{align*}
      E_6 =
      \begin{bmatrix}
        1 & 0 & 0\\
        0 & 1 & -2\\
        0 & 0 & 1\\
      \end{bmatrix}
    \end{align*}
    \begin{align*}
      E_6E_5E_4E_3E_2E_1A =
      \begin{bmatrix}
        1 & 0 & 0\\
        0 & 1 & -2\\
        0 & 0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 &  0 & 0\\
        0 & -1 & 2\\
        0 &  0 & 1\\
      \end{bmatrix}
      =
      \begin{bmatrix}
        1 &  0 & 0\\
        0 & -1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
    \end{align*}
    \begin{align*}
      E_7 =
      \begin{bmatrix}
        1 &  0 & 0\\
        0 & -1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
    \end{align*}
    \begin{align*}
      E_7E_6E_5E_4E_3E_2E_1A =
      \begin{bmatrix}
        1 &  0 & 0\\
        0 & -1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 &  0 & 0\\
        0 & -1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
      =
      \begin{bmatrix}
        1 & 0 & 0\\
        0 & 1 & 0\\
        0 & 0 & 1\\
      \end{bmatrix}.
    \end{align*}
    \begin{align*}
      E_7E_6E_5E_4E_3E_2E_1 =\\
      \begin{bmatrix}
        1 &  0 & 0\\
        0 & -1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 & 0 & 0\\
        0 & 1 & -2\\
        0 & 0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
         1 &  0 & 0\\
         0 &  1 & 0\\
        -3 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
         1 &  0 & 0\\
        -3 &  1 & 0\\
         0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 &  0 & 1\\
        0 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 & -1 & 0\\
        0 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 &  0 & 0\\
        1 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix} =\\
      \begin{bmatrix}
        1 &  0 & 0\\
        0 & -1 & 2\\
        0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
         1 &  0 & 0\\
         0 &  1 & 0\\
        -3 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
         1 &  0 & 0\\
        -3 &  1 & 0\\
         0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 &  0 & 1\\
        0 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 & -1 & 0\\
        0 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 &  0 & 0\\
        1 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix} =\\
      \begin{bmatrix}
         1 &  0 & 0\\
        -6 & -1 & 2\\
        -3 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
         1 &  0 & 0\\
        -3 &  1 & 0\\
         0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 &  0 & 1\\
        0 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 & -1 & 0\\
        0 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 &  0 & 0\\
        1 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix} =\\
      \begin{bmatrix}
         1 &  0 & 0\\
        -3 &  1 & 2\\
        -3 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 &  0 & 1\\
        0 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 & -1 & 0\\
        0 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 &  0 & 0\\
        1 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix} =\\
      \begin{bmatrix}
         1 &  0 &  1\\
        -3 & -1 & -1\\
        -3 &  0 & -2\\
      \end{bmatrix}
      \begin{bmatrix}
        1 & -1 & 0\\
        0 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix}
      \begin{bmatrix}
        1 &  0 & 0\\
        1 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix} =\\
      \begin{bmatrix}
         1 & -1 &  1\\
        -3 &  2 & -1\\
        -3 &  3 & -2\\
      \end{bmatrix}
      \begin{bmatrix}
        1 &  0 & 0\\
        1 &  1 & 0\\
        0 &  0 & 1\\
      \end{bmatrix} =\\
      \begin{bmatrix}
         0 & -1 &  1\\
        -1 &  2 & -1\\
         0 &  3 & -2\\
      \end{bmatrix}.
    \end{align*}
    \begin{align*}
      \begin{bmatrix}
         0 & -1 &  1\\
        -1 &  2 & -1\\
         0 &  3 & -2\\
      \end{bmatrix}
      \begin{bmatrix}
        1 & -1 & 1\\
        2 &  0 & 1\\
        3 &  0 & 1\\
      \end{bmatrix}
      =
      \begin{bmatrix}
        1 & 0 & 0\\
        0 & 1 & 0\\
        0 & 0 & 1\\
      \end{bmatrix}.
    \end{align*}
\end{enumerate}

\end{document}
